{"ast":null,"code":"// src/composables/useSwipeCard.js\nimport { ref, computed } from 'vue';\n\n/**\r\n * Composable for handling swipe/drag behaviour of a single card.\r\n *\r\n * @param {Object} options\r\n * @param {() => boolean} options.getHasActiveCard - returns true if there is a card to swipe.\r\n * @param {(isLike: boolean) => void} options.onSwipe - called when a swipe is confirmed.\r\n */\nexport function useSwipeCard({\n  getHasActiveCard,\n  onSwipe\n}) {\n  const isDragging = ref(false);\n  const startX = ref(0);\n  const startY = ref(0);\n  const dragX = ref(0);\n  const dragY = ref(0);\n  const activeCardStyle = computed(() => {\n    const x = dragX.value;\n    const y = dragY.value;\n    const rotation = x * 0.08;\n    return {\n      transform: `translateX(-50%) translate(${x}px, ${y}px) rotate(${rotation}deg)`,\n      transition: isDragging.value ? 'none' : 'transform 0.25s ease-out'\n    };\n  });\n  const backgroundStyle = index => {\n    const scale = 1 - index * 0.03;\n    return {\n      top: index * 4 + 'px',\n      transform: `translateX(-50%) scale(${scale})`\n    };\n  };\n  function extractClientXY(event) {\n    if (event.touches && event.touches[0]) {\n      return {\n        x: event.touches[0].clientX,\n        y: event.touches[0].clientY\n      };\n    }\n    return {\n      x: event.clientX,\n      y: event.clientY\n    };\n  }\n  function onDragStart(event) {\n    if (!getHasActiveCard()) return;\n    isDragging.value = true;\n    const {\n      x,\n      y\n    } = extractClientXY(event);\n    startX.value = x;\n    startY.value = y;\n    dragX.value = 0;\n    dragY.value = 0;\n  }\n  function onDragMove(event) {\n    if (!isDragging.value) return;\n    const {\n      x,\n      y\n    } = extractClientXY(event);\n    dragX.value = x - startX.value;\n    dragY.value = y - startY.value;\n  }\n  function onDragEnd() {\n    if (!isDragging.value) return;\n    isDragging.value = false;\n    const threshold = 80; // min horizontal distance for a valid swipe\n\n    if (dragX.value > threshold) {\n      commitSwipe(true);\n    } else if (dragX.value < -threshold) {\n      commitSwipe(false);\n    } else {\n      // If not far enough, snap back to center\n      dragX.value = 0;\n      dragY.value = 0;\n    }\n  }\n  function commitSwipe(isLike) {\n    if (!getHasActiveCard()) return;\n    const direction = isLike ? 1 : -1;\n    dragX.value = direction * 500;\n    dragY.value = dragY.value * 0.3;\n    setTimeout(() => {\n      dragX.value = 0;\n      dragY.value = 0;\n      onSwipe(isLike);\n    }, 200);\n  }\n  return {\n    dragX,\n    dragY,\n    activeCardStyle,\n    backgroundStyle,\n    onDragStart,\n    onDragMove,\n    onDragEnd\n  };\n}","map":{"version":3,"names":["ref","computed","useSwipeCard","getHasActiveCard","onSwipe","isDragging","startX","startY","dragX","dragY","activeCardStyle","x","value","y","rotation","transform","transition","backgroundStyle","index","scale","top","extractClientXY","event","touches","clientX","clientY","onDragStart","onDragMove","onDragEnd","threshold","commitSwipe","isLike","direction","setTimeout"],"sources":["C:/Users/User/netizen_experience/src/composables/useSwipeCard.js"],"sourcesContent":["// src/composables/useSwipeCard.js\r\nimport { ref, computed } from 'vue';\r\n\r\n/**\r\n * Composable for handling swipe/drag behaviour of a single card.\r\n *\r\n * @param {Object} options\r\n * @param {() => boolean} options.getHasActiveCard - returns true if there is a card to swipe.\r\n * @param {(isLike: boolean) => void} options.onSwipe - called when a swipe is confirmed.\r\n */\r\nexport function useSwipeCard({ getHasActiveCard, onSwipe }) {\r\n  const isDragging = ref(false);\r\n  const startX = ref(0);\r\n  const startY = ref(0);\r\n  const dragX = ref(0);\r\n  const dragY = ref(0);\r\n\r\n  const activeCardStyle = computed(() => {\r\n    const x = dragX.value;\r\n    const y = dragY.value;\r\n    const rotation = x * 0.08;\r\n\r\n    return {\r\n      transform: `translateX(-50%) translate(${x}px, ${y}px) rotate(${rotation}deg)`,\r\n      transition: isDragging.value ? 'none' : 'transform 0.25s ease-out'\r\n    };\r\n  });\r\n\r\n  const backgroundStyle = (index) => {\r\n    const scale = 1 - index * 0.03;\r\n    return {\r\n      top: index * 4 + 'px',\r\n      transform: `translateX(-50%) scale(${scale})`\r\n    };\r\n  };\r\n\r\n  function extractClientXY(event) {\r\n    if (event.touches && event.touches[0]) {\r\n      return { x: event.touches[0].clientX, y: event.touches[0].clientY };\r\n    }\r\n    return { x: event.clientX, y: event.clientY };\r\n  }\r\n\r\n  function onDragStart(event) {\r\n    if (!getHasActiveCard()) return;\r\n    isDragging.value = true;\r\n    const { x, y } = extractClientXY(event);\r\n    startX.value = x;\r\n    startY.value = y;\r\n    dragX.value = 0;\r\n    dragY.value = 0;\r\n  }\r\n\r\n  function onDragMove(event) {\r\n    if (!isDragging.value) return;\r\n    const { x, y } = extractClientXY(event);\r\n    dragX.value = x - startX.value;\r\n    dragY.value = y - startY.value;\r\n  }\r\n\r\n  function onDragEnd() {\r\n    if (!isDragging.value) return;\r\n    isDragging.value = false;\r\n\r\n    const threshold = 80; // min horizontal distance for a valid swipe\r\n\r\n    if (dragX.value > threshold) {\r\n      commitSwipe(true);\r\n    } else if (dragX.value < -threshold) {\r\n      commitSwipe(false);\r\n    } else {\r\n      // If not far enough, snap back to center\r\n      dragX.value = 0;\r\n      dragY.value = 0;\r\n    }\r\n  }\r\n\r\n  function commitSwipe(isLike) {\r\n    if (!getHasActiveCard()) return;\r\n\r\n    const direction = isLike ? 1 : -1;\r\n    dragX.value = direction * 500;\r\n    dragY.value = dragY.value * 0.3;\r\n\r\n    setTimeout(() => {\r\n      dragX.value = 0;\r\n      dragY.value = 0;\r\n      onSwipe(isLike);\r\n    }, 200);\r\n  }\r\n\r\n  return {\r\n    dragX,\r\n    dragY,\r\n    activeCardStyle,\r\n    backgroundStyle,\r\n    onDragStart,\r\n    onDragMove,\r\n    onDragEnd\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}