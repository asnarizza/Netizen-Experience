{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"cat-card-stack\"\n};\nconst _hoisted_2 = {\n  class: \"cat-card-area\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  key: 0,\n  class: \"badge badge--like\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"badge badge--nope\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ProgressBar = _resolveComponent(\"ProgressBar\");\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.remainingCats, (cat, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: cat.id,\n      class: \"cat-card cat-card--background\",\n      style: _normalizeStyle($setup.backgroundStyle(index))\n    }, [_createElementVNode(\"img\", {\n      src: cat.url,\n      alt: \"Cute cat\",\n      loading: \"lazy\"\n    }, null, 8, _hoisted_3)], 4);\n  }), 128)), $setup.activeCat ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"cat-card cat-card--active\",\n    style: _normalizeStyle($setup.activeCardStyle),\n    onMousedown: _cache[0] || (_cache[0] = $event => $setup.onDragStart($event)),\n    onTouchstartPassive: _cache[1] || (_cache[1] = $event => $setup.onDragStart($event)),\n    onMousemove: _cache[2] || (_cache[2] = $event => $setup.onDragMove($event)),\n    onTouchmovePassive: _cache[3] || (_cache[3] = $event => $setup.onDragMove($event)),\n    onMouseup: _cache[4] || (_cache[4] = (...args) => $setup.onDragEnd && $setup.onDragEnd(...args)),\n    onMouseleave: _cache[5] || (_cache[5] = (...args) => $setup.onDragEnd && $setup.onDragEnd(...args)),\n    onTouchend: _cache[6] || (_cache[6] = (...args) => $setup.onDragEnd && $setup.onDragEnd(...args))\n  }, [_createElementVNode(\"img\", {\n    src: $setup.activeCat.url,\n    alt: \"Cute cat\"\n  }, null, 8, _hoisted_4), $setup.dragX > 40 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" LIKE \")) : _createCommentVNode(\"\", true), $setup.dragX < -40 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" NOPE \")) : _createCommentVNode(\"\", true)], 36)) : _createCommentVNode(\"\", true)]), _createVNode(_component_ProgressBar, {\n    current: Math.min($props.currentIndex + 1, $props.cats.length),\n    total: $props.cats.length\n  }, null, 8, [\"current\", \"total\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$setup","remainingCats","cat","index","key","id","style","_normalizeStyle","backgroundStyle","src","url","alt","loading","activeCat","activeCardStyle","onMousedown","_cache","$event","onDragStart","onMousemove","onDragMove","onMouseup","args","onDragEnd","onMouseleave","onTouchend","dragX","_hoisted_5","_hoisted_6","_createVNode","_component_ProgressBar","current","Math","min","$props","currentIndex","cats","length","total"],"sources":["C:\\Users\\User\\netizen_experience\\src\\components\\CatSwipeStack.vue"],"sourcesContent":["<template>\r\n  <!-- Swipeable card stack section: main interactive area -->\r\n  <section class=\"cat-card-stack\">\r\n    <div class=\"cat-card-area\">\r\n      <!-- Background cards: next 1â€“2 upcoming cats for stack depth effect -->\r\n      <div\r\n        v-for=\"(cat, index) in remainingCats\"\r\n        :key=\"cat.id\"\r\n        class=\"cat-card cat-card--background\"\r\n        :style=\"backgroundStyle(index)\"\r\n      >\r\n        <img :src=\"cat.url\" alt=\"Cute cat\" loading=\"lazy\" />\r\n      </div>\r\n\r\n      <!-- Active card: draggable, shows like/nope badges while swiping -->\r\n      <div\r\n        v-if=\"activeCat\"\r\n        class=\"cat-card cat-card--active\"\r\n        :style=\"activeCardStyle\"\r\n        @mousedown=\"onDragStart($event)\"\r\n        @touchstart.passive=\"onDragStart($event)\"\r\n        @mousemove=\"onDragMove($event)\"\r\n        @touchmove.passive=\"onDragMove($event)\"\r\n        @mouseup=\"onDragEnd\"\r\n        @mouseleave=\"onDragEnd\"\r\n        @touchend=\"onDragEnd\"\r\n      >\r\n        <img :src=\"activeCat.url\" alt=\"Cute cat\" />\r\n        <!-- Visual feedback: like badge when dragging to the right -->\r\n        <div class=\"badge badge--like\" v-if=\"dragX > 40\">\r\n          LIKE\r\n        </div>\r\n        <!-- Visual feedback: nope badge when dragging to the left -->\r\n        <div class=\"badge badge--nope\" v-if=\"dragX < -40\">\r\n          NOPE\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Progress indicator -->\r\n    <ProgressBar\r\n      :current=\"Math.min(currentIndex + 1, cats.length)\"\r\n      :total=\"cats.length\"\r\n    />\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue';\r\nimport { useSwipeCard } from '../composables/useSwipeCard';\r\nimport ProgressBar from './ProgressBar.vue';\r\n\r\nexport default {\r\n  name: 'CatSwipeStack',\r\n  components: { ProgressBar },\r\n  props: {\r\n    cats: { type: Array, required: true },\r\n    currentIndex: { type: Number, required: true }\r\n  },\r\n  emits: ['swipe'],\r\n  setup(props, { emit }) {\r\n    const activeCat = computed(\r\n      () => props.cats[props.currentIndex] || null\r\n    );\r\n\r\n    const remainingCats = computed(() =>\r\n      props.cats.slice(props.currentIndex + 1, props.currentIndex + 3)\r\n    );\r\n\r\n    const {\r\n      dragX,\r\n      activeCardStyle,\r\n      backgroundStyle,\r\n      onDragStart,\r\n      onDragMove,\r\n      onDragEnd\r\n    } = useSwipeCard({\r\n      getHasActiveCard: () => !!activeCat.value,\r\n      onSwipe: (isLike) => emit('swipe', { isLike })\r\n    });\r\n\r\n    return {\r\n      activeCat,\r\n      remainingCats,\r\n      dragX,\r\n      activeCardStyle,\r\n      backgroundStyle,\r\n      onDragStart,\r\n      onDragMove,\r\n      onDragEnd\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Wrapper for the entire swipe section */\r\n.cat-card-stack {\r\n  width: 100%;\r\n  max-width: 360px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n/* Card container: fixed height for consistent layout across devices */\r\n.cat-card-area {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 480px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Base card styling (active and background cards) */\r\n.cat-card {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  /* translateX(-50%) is applied from inline transform to center the card */\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\r\n  background: #fff;\r\n  touch-action: pan-y;\r\n  cursor: grab;\r\n}\r\n\r\n/* Ensure cat images fill the card and are nicely cropped */\r\n.cat-card img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n/* Background cards are dimmed and not interactive */\r\n.cat-card--background {\r\n  opacity: 0.5;\r\n  pointer-events: none;\r\n}\r\n\r\n/* Active card shows grabbing cursor while dragging */\r\n.cat-card--active {\r\n  cursor: grabbing;\r\n}\r\n\r\n/* Base badge style (LIKE / NOPE labels) */\r\n.badge {\r\n  position: absolute;\r\n  top: 16px;\r\n  padding: 0.25rem 0.65rem;\r\n  border-radius: 6px;\r\n  font-weight: 700;\r\n  font-size: 0.75rem;\r\n  letter-spacing: 1px;\r\n  border: 2px solid;\r\n}\r\n\r\n/* LIKE badge (right swipe) */\r\n.badge--like {\r\n  left: 16px;\r\n  color: #2ecc71;\r\n  border-color: #2ecc71;\r\n  background: rgba(46, 204, 113, 0.05);\r\n}\r\n\r\n/* NOPE badge (left swipe) */\r\n.badge--nope {\r\n  right: 16px;\r\n  color: #e74c3c;\r\n  border-color: #e74c3c;\r\n  background: rgba(231, 76, 60, 0.05);\r\n}\r\n</style>\r\n"],"mappings":";;EAEWA,KAAK,EAAC;AAAgB;;EACxBA,KAAK,EAAC;AAAe;;;;;EA0BjBA,KAAK,EAAC;;;;EAINA,KAAK,EAAC;;;;uBA/BjBC,mBAAA,CA0CU,WA1CVC,UA0CU,GAzCRC,mBAAA,CAkCM,OAlCNC,UAkCM,I,kBAhCJH,mBAAA,CAOMI,SAAA,QAAAC,WAAA,CANmBC,MAAA,CAAAC,aAAa,GAA5BC,GAAG,EAAEC,KAAK;yBADpBT,mBAAA,CAOM;MALHU,GAAG,EAAEF,GAAG,CAACG,EAAE;MACZZ,KAAK,EAAC,+BAA+B;MACpCa,KAAK,EAAAC,eAAA,CAAEP,MAAA,CAAAQ,eAAe,CAACL,KAAK;QAE7BP,mBAAA,CAAoD;MAA9Ca,GAAG,EAAEP,GAAG,CAACQ,GAAG;MAAEC,GAAG,EAAC,UAAU;MAACC,OAAO,EAAC;;aAKrCZ,MAAA,CAAAa,SAAS,I,cADjBnB,mBAAA,CAqBM;;IAnBJD,KAAK,EAAC,2BAA2B;IAChCa,KAAK,EAAAC,eAAA,CAAEP,MAAA,CAAAc,eAAe;IACtBC,WAAS,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEjB,MAAA,CAAAkB,WAAW,CAACD,MAAM;6DACTjB,MAAA,CAAAkB,WAAW,CAACD,MAAM;IACtCE,WAAS,EAAAH,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEjB,MAAA,CAAAoB,UAAU,CAACH,MAAM;4DACTjB,MAAA,CAAAoB,UAAU,CAACH,MAAM;IACpCI,SAAO,EAAAL,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEtB,MAAA,CAAAuB,SAAA,IAAAvB,MAAA,CAAAuB,SAAA,IAAAD,IAAA,CAAS;IAClBE,YAAU,EAAAR,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEtB,MAAA,CAAAuB,SAAA,IAAAvB,MAAA,CAAAuB,SAAA,IAAAD,IAAA,CAAS;IACrBG,UAAQ,EAAAT,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEtB,MAAA,CAAAuB,SAAA,IAAAvB,MAAA,CAAAuB,SAAA,IAAAD,IAAA,CAAS;MAEpB1B,mBAAA,CAA2C;IAArCa,GAAG,EAAET,MAAA,CAAAa,SAAS,CAACH,GAAG;IAAEC,GAAG,EAAC;2BAEOX,MAAA,CAAA0B,KAAK,S,cAA1ChC,mBAAA,CAEM,OAFNiC,UAEM,EAF2C,QAEjD,K,+BAEqC3B,MAAA,CAAA0B,KAAK,U,cAA1ChC,mBAAA,CAEM,OAFNkC,UAEM,EAF4C,QAElD,K,wEAKJC,YAAA,CAGEC,sBAAA;IAFCC,OAAO,EAAEC,IAAI,CAACC,GAAG,CAACC,MAAA,CAAAC,YAAY,MAAMD,MAAA,CAAAE,IAAI,CAACC,MAAM;IAC/CC,KAAK,EAAEJ,MAAA,CAAAE,IAAI,CAACC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}